<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>Sleepy Coding</title>
		<meta name="description" content="">
		<meta name="author" content="Tracy Poff">

		<link rel="stylesheet" href="./theme/css/foundation.css" />
		<link rel="stylesheet" href="./theme/css/pygment/monokai.css" />
		<link rel="stylesheet" href="./theme/css/custom.css" />


		<script src="./theme/js/modernizr.js"></script>

		<!-- Feeds -->
		<link href="https://sopoforic.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Sleepy Coding Atom Feed" />


		<!-- mathjax config similar to math.stackexchange -->
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			jax: ["input/TeX", "output/HTML-CSS"],
			tex2jax: {
				inlineMath: [ ['$', '$'] ],
				displayMath: [ ['$$', '$$']],
				processEscapes: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
			},
			messageStyle: "none",
			"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
		});
		</script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	</head>
	<body>
		<div class="off-canvas-wrap">
			<div class="inner-wrap">
				<!-- mobile top bar to activate nav -->
				<nav class="tab-bar show-for-small">
					<section class="left-small">
						<a class="left-off-canvas-toggle menu-icon" ><span></span></a>
					</section>

					<section class="middle tab-bar-section">
						<h1 class="title">Sleepy&nbsp;Coding</h1>
					</section>
				</nav>

				<!-- mobile side bar nav -->
				<aside class="left-off-canvas-menu">
					<ul class="off-canvas-list">
						<li><a href=".">Home</a></li>
						<li><label>Categories</label></li>
							<li ><a href="./category/misc.html">misc</a></li>

						<li><label>Places</label></li>



						<li><label>Links</label></li>
							<li><a href="https://twitter.com/TracyPoff">@TracyPoff</a></li>
					</ul>	
				</aside>

				<!-- top bar nav -->
				<nav class="top-bar hide-for-small-only" data-topbar>
					<ul class="title-area">
						<li class="name">
							<h1><a href="./">Sleepy Coding</a></h1>
						</li>
					</ul>

					<section class="top-bar-section">
						<ul class="left">
								<li><a href="./pages/about-me.html">About</a></li>
								<li><a href="./pages/projects.html">Projects</a></li>
						</ul>
						<ul class="left">
								<li ><a href="./category/misc.html">misc</a></li>
						</ul>
					</section>
				</nav>

				<!-- Main Page Content and Sidebar -->
				<section class="main-section">
					<div class="row">
						<!-- Main Content -->
						<div class="medium-9 small-12 columns" role="content">

<article>
	<h3><a href="./creeping-perlism.html">Creeping&nbsp;Perlism</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Mon 14 December 2015. Tags: <a href="./tag/perl.html">perl</a>, </h6>
	<p>After many hours of perl programming, my fears are realized: I find myself wanting to do things in python as I might do them in&nbsp;perl&#8230;</p>
<div class="highlight"><pre><span class="k">if</span> <span class="p">((</span><span class="k">my</span> <span class="nv">$count</span> <span class="o">=</span> <span class="nb">scalar</span><span class="p">(</span><span class="nv">@$rows</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1"># do some stuff...</span>
<span class="p">}</span>
</pre></div>


<p>It&#8217;s just so <em>convenient</em>&#8230;</p>
</article>
<hr />
<article>
	<h3><a href="./git-update-index-assume-unchanged.html">git update-index &#8212;assume&nbsp;unchanged</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Mon 12 October 2015. Tags: <a href="./tag/git.html">git</a>, </h6>
	<p>Thanks to <a href="http://stackoverflow.com/questions/3319479/git-can-i-commit-a-file-and-ignore-the-content-changes">this stackoverflow question</a>, I&#8217;ve learned a useful git&nbsp;trick:</p>
<blockquote>
<p>git update-index &#8212;assume-unchanged [<file> &#8230;]</p>
</blockquote>
<p>and its&nbsp;counterpart:</p>
<blockquote>
<p>git update-index &#8212;no-assume-unchanged [<file> &#8230;]</p>
</blockquote>
<p>This pair of commands lets me keep a default file in the repo (e.g. a sample config) and modify it locally without git complaining about changed files.&nbsp;Handy!</p>
</article>
<hr />
<article>
	<h3><a href="./flask-markdown-bug.html">Flask-Markdown&nbsp;bug</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Wed 07 October 2015. Tags: <a href="./tag/quoted-forsooth.html">quoted forsooth</a>, <a href="./tag/flask-markdown.html">flask-markdown</a>, </h6>
	<p>I encountered a mysterious bug in Flask-Markdown: footnotes in one document were polluting others. I noticed footnotes being duplicated in a markdown-formatted sidebar, and then I found them showing up on new pages&nbsp;altogether.</p>
<p>The (approximate) cause was obvious: markdown was keeping state between different&nbsp;renders.</p>
<p>It turns out that Python-Markdown allows you to instantiate a renderer with options set and reuse that, if you choose, and Flask-Markdown takes advantage of this. However, when using Python-Markdown in that way, you need to <code>reset()</code> the instance between&nbsp;renders.</p>
<p>Solution: change line 69 of Flask-Markdown&#8217;s markdown.py&nbsp;from:</p>
<div class="highlight"><pre>        <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_instance</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">stream</span><span class="p">))</span>
</pre></div>


<p>to</p>
<div class="highlight"><pre>        <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_instance</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">stream</span><span class="p">))</span>
</pre></div>


<p>Simple.</p>
<p>Unfortunately, it looks like the maintainer of Flask-Markdown hasn&#8217;t been active on github in quite a while, so this problem may&nbsp;persist.</p>
</article>
<hr />
<article>
	<h3><a href="./building-a-better-mousetrap.html">Building a Better&nbsp;Mousetrap</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Tue 06 October 2015. Tags: <a href="./tag/python.html">python</a>, <a href="./tag/quoted-forsooth.html">quoted forsooth</a>, </h6>
	<p>All of my public projects have been suffering, lately (not that I&#8217;ve ever been the most constant of writers), because I&#8217;ve been working in the background on a tool to aid me in my&nbsp;research.</p>
<p>Some background: Until now, I&#8217;ve been collecting my copious notes in <a href="http://wikidpad.sourceforge.net/">wikidPad</a>, a very nice personal wiki application. If all you need is a text-based notebook with some simple formatting and organizational capabilities, it&#8217;s great. I recommend it to everyone. My needs are a bit more extreme, though. I&#8217;ve currently got notes on about eighteen hundred individual items, along with pages of organizational and planning information. Making use of all the data I have stored in wikidPad was getting to be impossible, and, worse still, some of my notes were scattered in different locations elsewhere due to my needing features not supported by&nbsp;wikidPad.</p>
<p>I&#8217;ve tested the various available research notebook tools (Docear, Zotero, Mendeley, ReadCube, Evernote, OneNote, &#8230;) but most are heavily oriented toward research artifacts being PDFs (does no one use photographs, or recorded interviews, or anything? just PDFs?), and none had remotely powerful enough metadata and reporting&nbsp;capabilities.</p>
<p>So, I finally bit the bullet and created my own tool. It&#8217;s ugly and user-unfriendly right now, but for my purposes it&#8217;s already more useful than wikidPad, and I continue adding features as needs arise. The benefit of using custom-built software is that I can readily make any required modifications. If I want to see all of my screenshots of character selection screens for games released between 1987 and 1996, ordered by the name of the developer, with games I&#8217;ve never reviewed highlighted in green, I can have that in a couple of minutes. Television episodes about gambling written by people born before 1960? People who starred in movies from the nineties based on games released in the eighties? Games I haven&#8217;t beaten developed by defunct companies? Any desired query can be constructed in a few minutes, as long as the information is there. And a lack of information was never my&nbsp;problem.</p>
<p>I don&#8217;t know if anyone else would find this useful. The lack of tools that did even remotely what I want seems to indicate that my needs are a bit idiosyncratic. I&#8217;ll probably release the code once I&#8217;ve got it in a less embarrassing state, all the&nbsp;same.</p>
</article>
<hr />
<article>
	<h3><a href="./beautifulsoup.html">BeautifulSoup</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Tue 15 September 2015. Tags: <a href="./tag/.html"></a>, </h6>
	<p>BeautifulSoup is really excellent. I should have started using it ages ago. In
probably less than an hour, I turned my custom-built horrible, fragile,
regex monstrosity of a parser into a much more robust and, more importantly,
understandable scraper with half as many lines of&nbsp;code.</p>
<p>The lesson, as it often is, is to use the right tool for the&nbsp;job.</p>
</article>
<hr />
<article>
	<h3><a href="./status-update-2015-07-02-230314.html">Status Update: 2015-07-02&nbsp;23:03:14</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Thu 02 July 2015. Tags: <a href="./tag/personal.html">personal</a>, </h6>
	<p>Status&nbsp;update.</p>
<table>
<thead>
<tr>
<th>Project</th>
<th align="right">Status</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Books to sort</td>
<td align="right">3140</td>
<td>Rapid progress lately.</td>
</tr>
<tr>
<td><span class="caps">LT</span> imported</td>
<td align="right">1689</td>
<td>No progress lately.</td>
</tr>
<tr>
<td><span class="caps">TMFT</span></td>
<td align="right">73</td>
<td>About a third done.</td>
</tr>
</tbody>
</table>
</article>
<hr />
<article>
	<h3><a href="./assembly.html">Assembly</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Wed 17 June 2015. Tags: <a href="./tag/assembly.html">assembly</a>, <a href="./tag/games.html">games</a>, </h6>
	<p>Recently, I saw a new game from Zachtronics, <a href="http://www.zachtronics.com/tis-100/"><span class="caps">TIS</span>-100</a>, which was released
<a href="http://store.steampowered.com/app/370360/">on Steam</a> as an early access title on the first of June. In some ways,
calling it a game is overstating it: it&#8217;s basically just a collection of
programming problems with an interface. The catch is that you&#8217;re programming in
an assembly language on a virtual machine with unusual architecture. Problems
beyond the simplest will generally require you to take advantage of parallelism
(which is the primary distinguishing feature of the <span class="caps">VM</span>) to solve, which leads to
some rather different solutions for traditional problems. It&#8217;s neat, and I
suggest checking it&nbsp;out.</p>
<p>Obviously, a game like that has a rather limited target audience. Case in point:
I have previously created my own little <span class="caps">VM</span> with a fake assembly language to play
with. The game is clearly made just for me, but how many others are likely to be
similarly interested? About 11,000 so far, <a href="http://steamspy.com/app/370360">apparently</a>.</p>
<p>I had good fun playing the game, which reminded me that I&#8217;ve been meaning to get
better at assembly. I&#8217;ve made some (very) simple programs in x86 assembly
before, but I could really use some more practice and study. I <a href="http://gameboy.mongenel.com/asmschool.html">looked into</a>
learning a little Z80 assembly for the Game Boy, which dovetails nicely with my
interest in video games, and even built a little test <span class="caps">ROM</span>, but ultimately it
seemed more useful to study something I&#8217;m a bit more likely to use. So, I&#8217;ve
been reading <a href="http://download-mirror.savannah.gnu.org/releases/pgubook/ProgrammingGroundUp-1-0-booksize.pdf">Programming from the Ground Up</a>, which teaches Linux x86
assembly. It&#8217;s a little old, and could seriously use some proofreading, but it&#8217;s
a decent&nbsp;resource.</p>
<p>One error to note here: in Chapter 4, on page 63, there is a lovely diagram
indicating the current state of the stack at a certain point during the
execution of the code. Lovely, but wrong. It has the order of the &#8220;Base Number&#8221;
and &#8220;Power&#8221; reversed. When I first saw it, the reversed order made me think that
the top of the stack was at the top of the diagram, when in fact it is not. I
worked it out, of course, but it did cause me to do some double- and
triple-checking of the code to be sure. Caveat&nbsp;lector.</p>
<p>As for what purpose I&#8217;ll eventually put this to&#8230; I&#8217;ve got some ambitions to
write an emulator, and I hope to transfer this knowledge to other platforms. In
particular, I&#8217;m interested in looking at C64 assembly. It&#8217;d be nice to look at
some of those old games with a better idea of what&#8217;s going on! For now, though
it&#8217;s just learning for the sake of learning. I&#8217;m a way off from doing anything
very interesting with&nbsp;it.</p>
</article>
<hr />
<article>
	<h3><a href="./writing-for-android.html">Writing for&nbsp;Android</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Mon 08 June 2015. Tags: <a href="./tag/kivy.html">kivy</a>, <a href="./tag/android.html">android</a>, </h6>
	<p>The last few days, I&#8217;ve been looking into writing apps for android. I found a
framework, <a href="http://kivy.org/#home">Kivy</a>, that would let me write in python, which seemed like it&#8217;d
be&nbsp;nice.</p>
<p>Results are&nbsp;mixed.</p>
<p>After some hours, I have indeed successfully created an android app. However,
the process was painful and tedious and I remembered partway through how much I
hate writing user interfaces, as I discovered that practically all of the coding
time was spent on the <span class="caps">UI</span>. My lack of familiarity with the framework led to some
truly awful code, which I&#8217;ve slowly been refactoring. A thousand lines it should
not take for a simple database&nbsp;app.</p>
<p>On the plus side, the app does seem to be useful and serving its purpose, which
is more than I can say for a lot of what I code, so&#8230; I&#8217;d call this a minor&nbsp;success.</p>
</article>
<hr />
<article>
	<h3><a href="./new-project-cgrr-gamecube.html">New project:&nbsp;cgrr-gamecube</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Fri 05 June 2015. Tags: <a href="./tag/cgrr.html">cgrr</a>, <a href="./tag/gamecube.html">gamecube</a>, </h6>
	<p>After about six hours of work, I&#8217;ve completed an initial release of a new
project: <a href="https://github.com/sopoforic/cgrr-gamecube">cgrr-gamecube</a>. At the moment, it is able to parse GameCube <span class="caps">GCI</span>
file headers, plus decode the banner from the <span class="caps">GCI</span> file (if it&#8217;s in <span class="caps">CI8</span>&nbsp;format).</p>
<p>It also supports writing the <span class="caps">GCI</span> files back out, but only modifications to the
header are supported. That means no editing the banner, since it&#8217;s stored in the
save data blocks, and not the header. In the future, I intend to add functions
specifically for replacing the&nbsp;banner.</p>
<p>Decoding the banner was something of a pain. The <span class="caps">CI8</span> image format isn&#8217;t very
complicated, I suppose. It&#8217;s a 16bpp paletted format with 5 bits per channel
plus one transparency bit, with the image stored as a series of 8x4 pixel tiles
(documentation forthcoming&#8212;I used <a href="http://www.surugi.com/projects/gcifaq.html">this page</a>, myself). Not complicated, but
annoying to work with, since I had to first rewrite the colors to a more usable
format, and second reorder the image data so it wasn&#8217;t all tiles. Though in
retrospect I suppose I could have actually decoded the image as tiles and then
pasted the tiles into a new image in the right positions. Not sure which would
have been&nbsp;better.</p>
<p>Anyway, everything went pretty smoothly, my dislike of the image format&nbsp;aside.</p>
<p>I think I may put together a frontend so I can extract <span class="caps">GCI</span> files rapidly, to
support my (potential) future efforts in decoding GameCube save files. One more
item for the todo list, I&nbsp;suppose.</p>
</article>
<hr />
<article>
	<h3><a href="./cgrr-transferred.html"><span class="caps">CGRR</span> transferred to&nbsp;github</a></h3>
	<h6>Written by <a href="./author/tracy-poff.html">Tracy Poff</a> in <a href="./category/misc.html">misc</a> on Mon 01 June 2015. Tags: <a href="./tag/cgrr.html">cgrr</a>, <a href="./tag/github.html">github</a>, </h6>
	<p>After many months of procrastination, I&#8217;ve finally split up my cgrr project and
transferred it to github. It took quite a while, but in the end I think it will
be much more maintainable and useful with each of the parser modules taken
separately than it would be with them all jammed together pretending to be
plugins for some yet-unwritten master program. If I want to write some wrapper
around them all later, they&#8217;ll perfectly well support it, but until then, all
the plugin stuff is just an extra mess&#8212;<span class="caps">YAGNI</span>.</p>
</article>
<hr />

<div class="row">
	<div class="small-12 columns text-center">
		<div class="pagination-centered">
			<ul class="pagination">
				<li class="arrow unavailable"><a href="#">&larr; Previous</a></li>
				<li class="current"><a href="./index.html">1</a></li>
				<li class=""><a href="./index2.html">2</a></li>
				<li class=""><a href="./index3.html">3</a></li>
				<li class=""><a href="./index4.html">4</a></li>
				<li class="arrow"><a href="./index2.html">Next &rarr;</a></li>
			</ul>
		</div>
	</div>
</div>

						</div>
						<!-- End Main Content -->
						<!-- Sidebar -->
						<aside class="medium-3 hide-for-small-only columns"><div class="panel">
								<h5>Tags</h5>
								<ul class="tag-cloud">
									<li><a href="/tag/flask-markdown.html" class="tag-4">flask-markdown</a></li>
									<li><a href="/tag/wordspy.html" class="tag-2">wordspy</a></li>
									<li><a href="/tag/project-euler.html" class="tag-4">Project Euler</a></li>
									<li><a href="/tag/basic.html" class="tag-2">BASIC</a></li>
									<li><a href="/tag/git.html" class="tag-4">git</a></li>
									<li><a href="/tag/haskell.html" class="tag-3">Haskell</a></li>
									<li><a href="/tag/javascript.html" class="tag-4">javascript</a></li>
									<li><a href="/tag/github.html" class="tag-4">github</a></li>
									<li><a href="/tag/games.html" class="tag-4">games</a></li>
									<li><a href="/tag/autofill-ebay.html" class="tag-4">autofill-ebay</a></li>
									<li><a href="/tag/quoted-forsooth.html" class="tag-3">quoted forsooth</a></li>
									<li><a href="/tag/ffcollection.html" class="tag-2">ffcollection</a></li>
									<li><a href="/tag/gamecube.html" class="tag-4">gamecube</a></li>
									<li><a href="/tag/personal.html" class="tag-4">personal</a></li>
									<li><a href="/tag/kivy.html" class="tag-4">kivy</a></li>
									<li><a href="/tag/perl.html" class="tag-4">perl</a></li>
									<li><a href="/tag/porting.html" class="tag-2">porting</a></li>
									<li><a href="/tag/750-to-org.html" class="tag-3">750-to-org</a></li>
									<li><a href="/tag/python.html" class="tag-1">python</a></li>
									<li><a href="/tag/greasemonkey.html" class="tag-4">greasemonkey</a></li>
									<li><a href="/tag/.html" class="tag-4"></a></li>
									<li><a href="/tag/awari.html" class="tag-3">awari</a></li>
									<li><a href="/tag/dot-hack.html" class="tag-1">dot hack</a></li>
									<li><a href="/tag/cgrr.html" class="tag-3">cgrr</a></li>
									<li><a href="/tag/assembly.html" class="tag-4">assembly</a></li>
									<li><a href="/tag/game.html" class="tag-4">game</a></li>
									<li><a href="/tag/android.html" class="tag-4">android</a></li>
									<li><a href="/tag/mercurial.html" class="tag-3">mercurial</a></li>
								</ul>
							</div>


							<div class="panel">
								<h5>Links</h5>
								<ul class="side-nav">
									<li><a href="https://twitter.com/TracyPoff">@TracyPoff</a></li>
								</ul>
							</div>
						</aside>
						<!-- End Sidebar -->
					</div>

					<!-- Footer -->
					<footer class="row">
						<div class="medium-9 small-12">
							<p class="text-center">Powered by <a href="http://getpelican.com">Pelican</a> and <a href="http://foundation.zurb.com/">Zurb Foundation</a>. Theme by <a href="http://hamaluik.com">Kenton Hamaluik</a>.</p>
						</div>
					</footer>
					<!-- End Footer -->
				</section>
				<a class="exit-off-canvas"></a>
			</div><!--off-canvas inner-->
		</div><!--off-canvas wrap-->

		<script src="./theme/js/jquery.js"></script>
		<script src="./theme/js/foundation.min.js"></script>
		<script>
			$(document).foundation();
		</script>
	</body>
</html>